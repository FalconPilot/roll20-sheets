<div class="sc-tab skills fcol fw">
  <% Object.entries(constants.skillGroups).forEach(([gk, group]) => { %>
    <% const equation = `@{${group.mainStat}} + @{grp_${gk}_known} + @{grp_${gk}_bonus}` %>
    <div class="skill fw fcol">
      <div class="frow fw">
        <div class="sc-skill-group frow fw">
          <% if (!group.special) { %>
            <span class="skl-total">
              <input
                disabled
                type="number"
                name="attr_dice_grp_<%= gk %>"
                value="<%= equation %>"
              />D
            </span>
          <% } else { %>
            <span class="skl-total sc-hidden">
              <input disabled type="number" />D
            </span>
          <% } %>
          <input
            type="number"
            class="skl-bonus"
            name="attr_grp_<%= gk %>_bonus"
            value="0"
          />
          <input
            type="checkbox"
            name="attr_grp_<%= gk %>_known"
            value="1"
          />
          <% if (!group.special) { %>
            <button
              type="action"
              name="act_roll_skill"
              class="line-input"
              value="dice_grp_<%= gk %>"
              data-name="<%= group.name %>"
            ><%= group.name %></button>
          <% } else { %>
            <h3 class="line-input">* <%= group.name %></h3>
          <% } %>
          <div class="toggle-input">
            <input type="checkbox" name="attr_toggle_sg_<%= gk %>" value="on" />
          </div>
          <% if (!group.special) { %>
            <div class="skill-stat main-stat full">
              <%= constants.stats[group.mainStat].toUpperCase().slice(0, 3) %>
            </div>
          <% } else { %>
            <div class="skill-stat full">-</div>
          <% } %>
        </div>
      </div>
      <input type="hidden" class="toggle-control" name="attr_toggle_sg_<%= gk %>" />
      <div class="skills-list <%= gk %> togglable fcol fw">
        <% Object.entries(group.skills).forEach(([_sk, skill]) => { %>
          <% if (!group.special) { %>
            <%- include('../parts/skill.ejs', {
              constants,
              gk,
              group,
              sk: _sk,
              mainStat: group.mainStat,
              offStat: group.offStat,
              skillName: skill
            }) %>
          <% } else { %>
            <% Object.entries(skill).forEach(([sk, skillName]) => { %>
              <%- include('../parts/skill.ejs', {
                constants,
                gk,
                group,
                sk,
                mainStat: _sk,
                offStat: group.offStat,
                skillName
              }) %>
            <% }) %>
          <% } %>
        <% }) %>
      </div>
    </div>
  <% }) %>
</div>
